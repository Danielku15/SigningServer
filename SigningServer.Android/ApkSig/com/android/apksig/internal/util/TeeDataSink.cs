// <auto-generated>
// This code was auto-generated.
// Changes to this file may cause incorrect behavior and will be lost if
// the code is regenerated.
// </auto-generated>

using System;

namespace SigningServer.Android.Com.Android.Apksig.Internal.Util
{
    /// <summary>
    /// {@link DataSink} which copies provided input into each of the sinks provided to it.
    /// </summary>
    public class TeeDataSink: SigningServer.Android.Com.Android.Apksig.Util.DataSink
    {
        internal readonly SigningServer.Android.Com.Android.Apksig.Util.DataSink[] mSinks;
        
        public TeeDataSink(SigningServer.Android.Com.Android.Apksig.Util.DataSink[] sinks)
        {
            mSinks = sinks;
        }
        
        public void Consume(byte[] buf, int offset, int length)
        {
            foreach (SigningServer.Android.Com.Android.Apksig.Util.DataSink sink in mSinks)
            {
                sink.Consume(buf, offset, length);
            }
        }
        
        public void Consume(SigningServer.Android.IO.ByteBuffer buf)
        {
            int originalPosition = buf.Position();
            for (int i = 0;i < mSinks.Length;i++)
            {
                if (i > 0)
                {
                    buf.Position(originalPosition);
                }
                mSinks[i].Consume(buf);
            }
        }
        
    }
    
}
